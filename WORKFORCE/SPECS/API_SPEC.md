# API Specification

## Base URL

```
Development: http://localhost:8000
```

---

## Endpoints

### 1. POST /predict

Submit student features, receive predicted exam score.

**Request:**
```json
{
  "features": {
    // Dynamic - based on model's feature_config.json
    // Example:
    "hours_studied": 5.5,
    "attendance": 85,
    "parental_involvement": "Medium",
    // ... other features as defined by model
  }
}
```

**Response 200:**
```json
{
  "predicted_score": 82.5,
  "score_category": "Good",
  "model_version": "1.0.0"
}
```

**Score Categories:**
| Range | Category |
|-------|----------|
| 90-100 | Excellent |
| 80-89 | Good |
| 70-79 | Average |
| 60-69 | Below Average |
| 0-59 | Needs Improvement |

---

### 2. GET /health

Check if server and model are operational.

**Response 200:**
```json
{
  "status": "healthy",
  "model_loaded": true,
  "model_version": "1.0.0"
}
```

---

### 3. GET /features/schema

Return expected input features (dynamic based on loaded model).

**Response 200:**
```json
{
  "numerical_features": [
    {"name": "hours_studied", "type": "float", "min": 0, "max": 24},
    {"name": "attendance", "type": "float", "min": 0, "max": 100}
  ],
  "categorical_features": [
    {"name": "parental_involvement", "type": "string", "options": ["Low", "Medium", "High"]},
    {"name": "school_type", "type": "string", "options": ["Public", "Private"]}
  ]
}
```

*Note: Actual features populated from `feature_config.json` generated by Data Science team.*

---

## Error Handling

### 400 Bad Request
Missing required fields.
```json
{
  "error": "bad_request",
  "message": "Missing required field: hours_studied"
}
```

### 422 Validation Error
Invalid values (out of range, wrong category).
```json
{
  "error": "validation_error",
  "message": "hours_studied must be between 0 and 24",
  "field": "hours_studied",
  "value": 30
}
```

### 500 Internal Server Error
Model or server failure.
```json
{
  "error": "internal_error",
  "message": "Model prediction failed"
}
```

---

## Dependencies

| Artifact | From | Status |
|----------|------|--------|
| `model.joblib` | Data Science | Pending |
| `feature_config.json` | Data Science | Pending |

---

*Version: 1.0.0*

